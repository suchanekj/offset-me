{"version":3,"sources":["webpack:///./src/pages/stats.js","webpack:///./src/components/navbar.js","webpack:///./src/components/footer.js","webpack:///./src/components/layout.js","webpack:///./src/components/slider.js","webpack:///./node_modules/gatsby-plugin-paypal/index.js","webpack:///./src/components/paypal.js"],"names":["Stats","className","NavBar","useState","isActive","setIsActive","class","role","aria-label","to","aria-expanded","onClick","aria-hidden","Footer","href","Layout","children","style","height","Slider","name","value","setValue","max","unit","level","high","low","mid","for","String","id","type","step","min","onChange","e","Number","target","marginLeft","marginRight","toFixed","Paypal","props","createOrderPaypal","data","actions","order","create","purchase_units","amount","currency_code","currency","toString","application_context","shipping_preference","shippingPreference","onApprovePaypal","capture","then","details","onSuccess","catch","err","onError","onErrorPaypal","console","log","useEffect","window","paypal","Buttons","createOrder","onApprove","render","defaultProps","PayPalButton","items","total","reduce","acc","commission","totalWithCommission","textAlign","key","color","breakdown","item_total","handling","map","unit_amount","quantity"],"mappings":"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","file":"component---src-pages-stats-js-de14b57d293d19d3efaa.js","sourcesContent":["import React from \"react\";\nimport { Layout } from \"../components\";\n\nexport default function Stats() {\n  return (\n    <Layout>\n      <div className=\"box\">\n        <h1>A place to show statistics about donations.</h1>\n      </div>\n    </Layout>\n  );\n}\n","import React, { useState } from \"react\";\nimport { Link } from \"gatsby\";\n\nexport function NavBar() {\n  const [isActive, setIsActive] = useState(false);\n\n  return (\n    <nav class=\"navbar\" role=\"navigation\" aria-label=\"main navigation\">\n      <div class=\"navbar-brand is-align-items-center mx-2\">\n        <Link to=\"/\" className=\"button is-primary\">\n          <span class=\"icon\">\n            <i class=\"fa fa-donate\"></i>\n          </span>\n          <span>Offset me!</span>\n        </Link>\n        <a\n          role=\"button\"\n          class={`navbar-burger ${isActive && \"is-active\"}`}\n          aria-label=\"menu\"\n          aria-expanded={isActive ? \"false\" : \"true\"}\n          onClick={() => setIsActive((isActive) => !isActive)}\n        >\n          <span aria-hidden=\"true\"></span>\n          <span aria-hidden=\"true\"></span>\n          <span aria-hidden=\"true\"></span>\n        </a>\n      </div>\n      <div class={`navbar-menu ${isActive && \"is-active\"}`}>\n        <div class=\"navbar-start\">\n          <Link to=\"/documentation\" className=\"navbar-item\">\n            Docs\n          </Link>\n          <Link to=\"/news\" className=\"navbar-item\">\n            News\n          </Link>\n          <Link to=\"/about\" className=\"navbar-item\">\n            About us\n          </Link>\n          <Link to=\"/contact\" className=\"navbar-item\">\n            Contact us / Feedback\n          </Link>\n        </div>\n      </div>\n    </nav>\n  );\n}\n","import React from \"react\";\nimport {Link} from \"gatsby\";\n\nexport function Footer() {\n  return (\n    <footer class=\"footer\">\n      <div class=\"content has-text-centered\">\n        <p>\n          <strong>Offset me!</strong> by{\" \"}\n          <a href=\"http://www.suchanek.io\">Jakub Suchánek</a> and{\" \"}\n          <a href=\"https://www.lawrencejb.com\">Lawrence Berry</a>.\n        </p>\n      </div>\n    </footer>\n  );\n}\n","import React from \"react\";\nimport { NavBar } from \"./navbar\";\nimport { Footer } from \"./footer\";\n\nexport function Layout({ children }) {\n  return (\n    <div style={{ height: \"100vh\" }} class=\"is-flex is-flex-direction-column\">\n      <NavBar />\n      <div class=\"section is-flex-grow-1\">\n        <div className=\"container is-max-desktop\">\n          {children}\n        </div>\n      </div>\n      <Footer />\n    </div>\n  );\n}\n","import React from \"react\";\n\nexport const Slider = ({\n  name,\n  value,\n  setValue,\n  max,\n  unit,\n  level,\n  high,\n  low,\n  mid,\n}) => {\n  const handleChange = (e) => {\n    setValue(Number(e.target.value));\n  };\n  return (\n    <div class=\"columns is-vcentered is-mobile\">\n      <label\n        for=\"slider\"\n        class={\"column form-text form-level-\" + String(level)}\n      >\n        {name}\n      </label>\n      <div class=\"slider-container\">\n        <input\n          id=\"slider\"\n          className=\"column slider is-circle\"\n          type=\"range\"\n          step=\"0.01\"\n          min={0}\n          max={max}\n          value={value}\n          onChange={handleChange}\n        />\n        <div className=\"slider-marks\">\n          <span\n            className=\"slider-mark\"\n            style={{\n              marginLeft: String((Number(low) / Number(max)) * 100) + \"%\",\n            }}\n          >\n            ▶\n          </span>\n          <span\n            className=\"slider-mark\"\n            style={{\n              marginLeft:\n                String(((Number(mid) - Number(low)) / Number(max)) * 100) + \"%\",\n            }}\n          >\n            ▲\n          </span>\n          <span\n            className=\"slider-mark\"\n            style={{\n              marginLeft:\n                String(((Number(high) - Number(mid)) / Number(max)) * 100) +\n                \"%\",\n              marginRight: \"auto\",\n            }}\n          >\n            ◀\n          </span>\n        </div>\n      </div>\n      <output for=\"slider\" class=\"column form-value\">\n        {unit === \"%\" ? `${value.toFixed(1)} %` : `£ ${value.toFixed(2)}`}\n      </output>\n    </div>\n  );\n};\n","import React, { useEffect } from 'react';\nimport PropTypes from \"prop-types\";\n\nconst Paypal = (props) => {\n\n  const createOrderPaypal = (data, actions) => {\n    return actions.order.create({\n      purchase_units: [\n        {\n          amount: {\n            currency_code: props.currency\n              ? props.currency\n              : props.currency\n                ? props.currency\n                : \"USD\",\n            value: props.amount.toString()\n          }\n        }\n      ],\n      application_context: {\n        shipping_preference: props.shippingPreference\n      }\n    });\n  }\n  const onApprovePaypal = (data, actions) => {\n    return actions.order.capture().then((details) => {\n      return onSuccess(details, data);\n    }).catch((err) => {\n      return onError(err);\n    })\n  }\n\n  const onErrorPaypal = (err) => {\n    console.log(err);\n  }\n\n  useEffect(() => {\n    if (typeof window !== `undefined`) {\n      window.paypal\n        .Buttons({\n          ...props,\n          createOrder: (props.createOrder ? props.createOrder : createOrderPaypal),\n          onApprove: (props.onApprove ? props.onApprove : onApprovePaypal),\n          onError: (props.onError ? props.onError : onErrorPaypal),\n        })\n        .render('#paypal-button');\n    }\n  }, []);\n\n  return (\n    <div id=\"smart-button-container\">\n      <div>\n        <div id=\"paypal-button\"></div>\n      </div>\n    </div>\n  );\n};\n\nPaypal.propTypes = {\n  amount: PropTypes.oneOfType([\n    PropTypes.number,\n    PropTypes.string,\n  ]),\n  currency: PropTypes.oneOfType([\n    PropTypes.number,\n    PropTypes.string,\n  ]),\n  shippingPreference: PropTypes.string,\n  onSuccess: PropTypes.func,\n  onError: PropTypes.func,\n  createOrder: PropTypes.func,\n  createSubscription: PropTypes.func,\n  onApprove: PropTypes.func,\n  style: PropTypes.object,\n};\nPaypal.defaultProps = {\n  style: {},\n  currency: 'USD',\n  shippingPreference: \"GET_FROM_FILE\",\n};\n\nexport default Paypal;\n\n","import React from \"react\";\nimport Paypal from \"gatsby-plugin-paypal\";\n\nexport const PayPalButton = ({ items }) => {\n  const total = items.reduce((acc, [_, value]) => acc + value, 0);\n\n  // Add in PayPal's commission\n  // https://www.paypal.com/uk/webapps/mpp/merchant-fees\n  // differentiating micropayments and regular payments, disregarding international payments. For domestic payments\n  // this is still a few pennies off...\n  const commission = total <= 5 ? (0.05 + 0.05 * total) / 0.95 : (0.3 + 0.029 * total) / 0.971;\n\n  const totalWithCommission = total + commission;\n\n  const createOrderPaypal = (data, actions) => {\n    return actions.order.create({\n      purchase_units: [\n        {\n          amount: {\n            currency_code: \"GBP\",\n            value: totalWithCommission.toFixed(2),\n            breakdown: {\n              item_total: { currency_code: \"GBP\", value: total.toFixed(2) },\n              handling: { currency_code: \"GBP\", value: commission.toFixed(2) },\n            },\n          },\n          items: items.map(([name, value]) => ({\n            name,\n            unit_amount: { currency_code: \"GBP\", value: value.toFixed(2) },\n            quantity: 1,\n          })),\n        },\n      ],\n    });\n  };\n\n  return (\n    <div style={{ textAlign: \"center\" }}>\n      <Paypal\n        // change the key to force a remount of the component which is needed for it to pick up the new createOrder callback\n        key={total}\n        style={{\n          color: \"blue\",\n        }}\n        createOrder={createOrderPaypal}\n      />\n      <div class=\"card\">\n        <div class=\"card-content has-text-left\">\n          <div class=\"columns\">\n            <div class=\"column is-italic\">Donation:</div>\n            <div class=\"column\">£{total.toFixed(2)}</div>\n          </div>\n          <div class=\"columns\">\n            <div class=\"column is-italic\">PayPal processing fee:</div>\n            <div class=\"column\">£{commission.toFixed(2)}</div>\n          </div>\n          <div class=\"columns\">\n            <div class=\"column has-text-weight-semibold\">Total:</div>\n            <div class=\"column\">£{totalWithCommission.toFixed(2)}</div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n"],"sourceRoot":""}